@(field: Field, text: String, sectOpts: Iterable[Section], cityOpts: Iterable[String])

@sect=@{field("sect")}
@city=@{field("city")}

@style={form-control selectpicker custom-select my-1 @if(field.hasErrors){is-invalid}}

<div class="form-group row py-1">
	<label for="@sect.id" class="col-md-1 col-form-label my-1">@text</label>
	<div class="col-md">
		<select class="@style" id="@sect.id" name="@sect.name" data-size="10">
			<option class="blank" value="">不参加</option>
		@for(opt <- sectOpts.map(_.toString)) {
			<option value="@opt" @if(sect.value.contains(opt)){selected="selected"}>@opt</option>
		}
		</select>
	</div>
	<div class="col-md">
		<select class="@style" id="@city.id" name="@city.name" data-size="10" data-live-search="true">
			<option class="blank" value="">運用地が未選択です。</option>
		@for(opt <- cityOpts.map(_.toString)) {
			<option value="@opt" @if(city.value.contains(opt)){selected="selected"}>@opt</option>
		}
		</select>
	</div>
</div>
<script type="text/javascript">
function switch_enabled_@{field.id}() {
	$('#@{city.id}').attr('disabled', !$('#@{sect.id}').val());
	$('#@{city.id}').selectpicker('refresh');
}
$(document).ready(switch_enabled_@field.id);
$('#@{sect.id}').change(switch_enabled_@field.id);
</script>
